{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\notefusion-ai\\\\notefusion-ai\\\\frontend\\\\src\\\\components\\\\DiagramCanvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useState, useEffect } from 'react';\n// @ts-ignore - Missing type definitions for react-canvas-draw\nimport CanvasDraw from 'react-canvas-draw';\nimport { FiSave, FiTrash2, FiRotateCcw, FiDownload, FiPenTool, FiType, FiSquare, FiCircle, FiMinus, FiX } from 'react-icons/fi';\n\n// Define the CanvasDraw ref type\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DiagramCanvas = ({\n  onSave,\n  initialData,\n  autoSave = false,\n  onAutoSave\n}) => {\n  _s();\n  const [canvas, setCanvas] = useState(null);\n  const [brushColor, setBrushColor] = useState(\"#222222\");\n  const [brushRadius, setBrushRadius] = useState(2);\n  const [activeTool, setActiveTool] = useState('pen');\n  const [showColorPicker, setShowColorPicker] = useState(false);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [startPos, setStartPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [textInput, setTextInput] = useState('');\n  const [showTextInput, setShowTextInput] = useState(false);\n  const [textPosition, setTextPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const fileDownloadRef = useRef(null);\n  const canvasRef = useRef(null);\n  const canvasContainerRef = useRef(null);\n  const colors = ['#000000', '#ff0000', '#00ff00', '#0000ff', '#ffff00', '#00ffff', '#ff00ff', '#ffffff'];\n  const brushSizes = [1, 2, 4, 8, 12, 16];\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (autoSave && canvasRef.current) {\n      const data = canvasRef.current.getSaveData();\n      onAutoSave === null || onAutoSave === void 0 ? void 0 : onAutoSave(data);\n    }\n  }, [autoSave, onAutoSave]);\n\n  // Handle mouse down for shapes\n  const handleMouseDown = e => {\n    if (!canvasRef.current || !canvasContainerRef.current) return;\n    const rect = canvasContainerRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setStartPos({\n      x,\n      y\n    });\n    if (activeTool === 'text') {\n      setTextPosition({\n        x,\n        y\n      });\n      setShowTextInput(true);\n      return;\n    }\n    setIsDrawing(true);\n  };\n\n  // Handle mouse move for drawing shapes\n  const handleMouseMove = e => {\n    if (!isDrawing || !canvasRef.current || !canvasContainerRef.current) return;\n    const rect = canvasContainerRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // In a real implementation, you would draw the shape on a temporary canvas\n    // and only commit to the main canvas on mouse up\n  };\n\n  // Handle mouse up to complete shape drawing\n  const handleMouseUp = () => {\n    if (!isDrawing) return;\n    setIsDrawing(false);\n\n    // In a real implementation, you would finalize the shape here\n    // and add it to the canvas\n  };\n\n  // Handle text input submission\n  const handleTextSubmit = () => {\n    if (!canvasRef.current || !textInput.trim()) {\n      setShowTextInput(false);\n      return;\n    }\n\n    // In a real implementation, you would add the text to the canvas at textPosition\n    // This is a simplified version that just alerts the text\n    alert(`Text to add: ${textInput}`);\n    setTextInput('');\n    setShowTextInput(false);\n  };\n  const handleSave = useCallback(() => {\n    if (canvas) {\n      const data = canvas.getSaveData();\n      onSave(data);\n    }\n  }, [canvas, onSave]);\n  const handleClear = useCallback(() => {\n    if (canvas) {\n      canvas.clear();\n    }\n  }, [canvas]);\n  const handleUndo = useCallback(() => {\n    if (canvas) {\n      canvas.undo();\n    }\n  }, [canvas]);\n  const handleExport = useCallback(() => {\n    if (canvas && canvas.canvas) {\n      const dataUrl = canvas.canvas.toDataURL(\"image/png\");\n      if (fileDownloadRef.current) {\n        fileDownloadRef.current.href = dataUrl;\n        fileDownloadRef.current.download = \"whiteboard.png\";\n        fileDownloadRef.current.click();\n      }\n    }\n  }, [canvas]);\n  const handleBrushColor = e => {\n    setBrushColor(e.target.value);\n    setActiveTool('pen');\n  };\n  const handleBrushRadius = e => {\n    setBrushRadius(Number(e.target.value));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border rounded-lg p-4 bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-between items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold\",\n          children: \"Whiteboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1 p-1 bg-gray-100 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('pen'),\n              className: `p-2 rounded ${activeTool === 'pen' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Pen\",\n              children: /*#__PURE__*/_jsxDEV(FiPenTool, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('eraser'),\n              className: `p-2 rounded ${activeTool === 'eraser' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Eraser\",\n              children: /*#__PURE__*/_jsxDEV(FiX, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('text'),\n              className: `p-2 rounded ${activeTool === 'text' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Add Text\",\n              children: /*#__PURE__*/_jsxDEV(FiType, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('rectangle'),\n              className: `p-2 rounded ${activeTool === 'rectangle' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Rectangle\",\n              children: /*#__PURE__*/_jsxDEV(FiSquare, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('circle'),\n              className: `p-2 rounded ${activeTool === 'circle' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Circle\",\n              children: /*#__PURE__*/_jsxDEV(FiCircle, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTool('line'),\n              className: `p-2 rounded ${activeTool === 'line' ? 'bg-white shadow' : 'hover:bg-gray-200'}`,\n              title: \"Line\",\n              children: /*#__PURE__*/_jsxDEV(FiMinus, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowColorPicker(!showColorPicker),\n              className: \"w-8 h-8 rounded border border-gray-300\",\n              style: {\n                backgroundColor: brushColor\n              },\n              title: \"Select color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), showColorPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute z-10 mt-2 p-2 bg-white rounded shadow-lg\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-4 gap-2\",\n                children: colors.map(color => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setBrushColor(color);\n                    setShowColorPicker(false);\n                    setActiveTool('pen');\n                  },\n                  className: \"w-6 h-6 rounded border border-gray-300\",\n                  style: {\n                    backgroundColor: color\n                  },\n                  title: color\n                }, color, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"Size:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: brushRadius,\n              onChange: e => setBrushRadius(Number(e.target.value)),\n              className: \"text-sm border rounded p-1\",\n              children: brushSizes.map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: size,\n                children: size\n              }, size, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUndo,\n              className: \"p-2 text-gray-700 hover:bg-gray-200 rounded\",\n              title: \"Undo\",\n              children: /*#__PURE__*/_jsxDEV(FiRotateCcw, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClear,\n              className: \"p-2 text-gray-700 hover:bg-gray-200 rounded\",\n              title: \"Clear\",\n              children: /*#__PURE__*/_jsxDEV(FiTrash2, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSave,\n              className: \"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n              title: \"Save\",\n              children: /*#__PURE__*/_jsxDEV(FiSave, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExport,\n              className: \"p-2 bg-green-500 text-white rounded hover:bg-green-600\",\n              title: \"Export\",\n              children: /*#__PURE__*/_jsxDEV(FiDownload, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              ref: fileDownloadRef,\n              style: {\n                display: 'none'\n              },\n              children: \"Download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: canvasContainerRef,\n        className: \"relative border rounded bg-white\",\n        style: {\n          width: '100%',\n          height: '500px',\n          overflow: 'hidden'\n        },\n        onMouseDown: handleMouseDown,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp,\n        onMouseLeave: handleMouseUp,\n        children: [/*#__PURE__*/_jsxDEV(CanvasDraw, {\n          ref: canvasDraw => {\n            if (canvasDraw) {\n              setCanvas(canvasDraw);\n              canvasRef.current = canvasDraw;\n            }\n          },\n          brushColor: activeTool === 'eraser' ? '#fff' : brushColor,\n          brushRadius: brushRadius,\n          lazyRadius: 0,\n          saveData: initialData,\n          style: {\n            width: '100%',\n            height: '100%',\n            touchAction: 'none'\n          },\n          canvasWidth: 800,\n          canvasHeight: 500\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), showTextInput && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            left: `${textPosition.x}px`,\n            top: `${textPosition.y}px`,\n            zIndex: 1000\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex bg-white border rounded shadow-lg p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: textInput,\n              onChange: e => setTextInput(e.target.value),\n              onKeyDown: e => e.key === 'Enter' && handleTextSubmit(),\n              className: \"border rounded px-2 py-1 mr-2\",\n              autoFocus: true,\n              placeholder: \"Enter text...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleTextSubmit,\n              className: \"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(DiagramCanvas, \"RAV0JgoBHyFCXchjZgT5NP9nYGE=\");\n_c = DiagramCanvas;\nexport default DiagramCanvas;\nvar _c;\n$RefreshReg$(_c, \"DiagramCanvas\");","map":{"version":3,"names":["React","useCallback","useRef","useState","useEffect","CanvasDraw","FiSave","FiTrash2","FiRotateCcw","FiDownload","FiPenTool","FiType","FiSquare","FiCircle","FiMinus","FiX","jsxDEV","_jsxDEV","DiagramCanvas","onSave","initialData","autoSave","onAutoSave","_s","canvas","setCanvas","brushColor","setBrushColor","brushRadius","setBrushRadius","activeTool","setActiveTool","showColorPicker","setShowColorPicker","isDrawing","setIsDrawing","startPos","setStartPos","x","y","textInput","setTextInput","showTextInput","setShowTextInput","textPosition","setTextPosition","fileDownloadRef","canvasRef","canvasContainerRef","colors","brushSizes","current","data","getSaveData","handleMouseDown","e","rect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","handleMouseUp","handleTextSubmit","trim","alert","handleSave","handleClear","clear","handleUndo","undo","handleExport","dataUrl","toDataURL","href","download","click","handleBrushColor","target","value","handleBrushRadius","Number","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","style","backgroundColor","map","color","onChange","size","ref","display","width","height","overflow","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","canvasDraw","lazyRadius","saveData","touchAction","canvasWidth","canvasHeight","position","zIndex","type","onKeyDown","key","autoFocus","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/User/notefusion-ai/notefusion-ai/frontend/src/components/DiagramCanvas.tsx"],"sourcesContent":["import React, { useCallback, useRef, useState, useEffect, RefObject } from 'react';\r\n// @ts-ignore - Missing type definitions for react-canvas-draw\r\nimport CanvasDraw from 'react-canvas-draw';\r\nimport { FiSave, FiTrash2, FiRotateCcw, FiDownload, FiPenTool, FiType, FiSquare, FiCircle, FiMinus, FiX } from 'react-icons/fi';\r\n\r\ntype Tool = 'pen' | 'eraser' | 'text' | 'rectangle' | 'circle' | 'line';\r\n\r\n// Define the CanvasDraw ref type\r\ninterface CanvasDrawRef {\r\n  clear: () => void;\r\n  undo: () => void;\r\n  getSaveData: () => string;\r\n  loadSaveData: (saveData: string, immediate?: boolean) => void;\r\n  canvas: HTMLCanvasElement;\r\n  canvasContainer: HTMLDivElement;\r\n  ctx: CanvasRenderingContext2D;\r\n  drawing: HTMLCanvasElement;\r\n}\r\n\r\ninterface DiagramCanvasProps {\r\n  onSave: (data: string) => void;\r\n  initialData?: string;\r\n  autoSave?: boolean;\r\n  onAutoSave?: (data: string) => void;\r\n}\r\n\r\nconst DiagramCanvas: React.FC<DiagramCanvasProps> = ({ \r\n  onSave, \r\n  initialData, \r\n  autoSave = false,\r\n  onAutoSave\r\n}) => {\r\n  const [canvas, setCanvas] = useState<CanvasDrawRef | null>(null);\r\n  const [brushColor, setBrushColor] = useState<string>(\"#222222\");\r\n  const [brushRadius, setBrushRadius] = useState<number>(2);\r\n  const [activeTool, setActiveTool] = useState<Tool>('pen');\r\n  const [showColorPicker, setShowColorPicker] = useState(false);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [startPos, setStartPos] = useState({ x: 0, y: 0 });\r\n  const [textInput, setTextInput] = useState('');\r\n  const [showTextInput, setShowTextInput] = useState(false);\r\n  const [textPosition, setTextPosition] = useState({ x: 0, y: 0 });\r\n  const fileDownloadRef = useRef<HTMLAnchorElement>(null);\r\n  const canvasRef = useRef<CanvasDrawRef>(null);\r\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const colors = [\r\n    '#000000', '#ff0000', '#00ff00', '#0000ff', \r\n    '#ffff00', '#00ffff', '#ff00ff', '#ffffff'\r\n  ];\r\n\r\n  const brushSizes = [1, 2, 4, 8, 12, 16];\r\n\r\n  // Auto-save functionality\r\n  useEffect(() => {\r\n    if (autoSave && canvasRef.current) {\r\n      const data = canvasRef.current.getSaveData();\r\n      onAutoSave?.(data);\r\n    }\r\n  }, [autoSave, onAutoSave]);\r\n\r\n  // Handle mouse down for shapes\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    if (!canvasRef.current || !canvasContainerRef.current) return;\r\n    \r\n    const rect = canvasContainerRef.current.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    setStartPos({ x, y });\r\n    \r\n    if (activeTool === 'text') {\r\n      setTextPosition({ x, y });\r\n      setShowTextInput(true);\r\n      return;\r\n    }\r\n    \r\n    setIsDrawing(true);\r\n  };\r\n  \r\n  // Handle mouse move for drawing shapes\r\n  const handleMouseMove = (e: React.MouseEvent) => {\r\n    if (!isDrawing || !canvasRef.current || !canvasContainerRef.current) return;\r\n    \r\n    const rect = canvasContainerRef.current.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    // In a real implementation, you would draw the shape on a temporary canvas\r\n    // and only commit to the main canvas on mouse up\r\n  };\r\n  \r\n  // Handle mouse up to complete shape drawing\r\n  const handleMouseUp = () => {\r\n    if (!isDrawing) return;\r\n    setIsDrawing(false);\r\n    \r\n    // In a real implementation, you would finalize the shape here\r\n    // and add it to the canvas\r\n  };\r\n  \r\n  // Handle text input submission\r\n  const handleTextSubmit = () => {\r\n    if (!canvasRef.current || !textInput.trim()) {\r\n      setShowTextInput(false);\r\n      return;\r\n    }\r\n    \r\n    // In a real implementation, you would add the text to the canvas at textPosition\r\n    // This is a simplified version that just alerts the text\r\n    alert(`Text to add: ${textInput}`);\r\n    \r\n    setTextInput('');\r\n    setShowTextInput(false);\r\n  };\r\n\r\n  const handleSave = useCallback(() => {\r\n    if (canvas) {\r\n      const data = canvas.getSaveData();\r\n      onSave(data);\r\n    }\r\n  }, [canvas, onSave]);\r\n\r\n  const handleClear = useCallback(() => {\r\n    if (canvas) {\r\n      canvas.clear();\r\n    }\r\n  }, [canvas]);\r\n\r\n  const handleUndo = useCallback(() => {\r\n    if (canvas) {\r\n      canvas.undo();\r\n    }\r\n  }, [canvas]);\r\n\r\n  const handleExport = useCallback(() => {\r\n    if (canvas && canvas.canvas) {\r\n      const dataUrl = (canvas.canvas as any).toDataURL(\"image/png\");\r\n      if (fileDownloadRef.current) {\r\n        fileDownloadRef.current.href = dataUrl;\r\n        fileDownloadRef.current.download = \"whiteboard.png\";\r\n        fileDownloadRef.current.click();\r\n      }\r\n    }\r\n  }, [canvas]);\r\n\r\n  const handleBrushColor = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setBrushColor(e.target.value);\r\n    setActiveTool('pen');\r\n  };\r\n\r\n  const handleBrushRadius = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setBrushRadius(Number(e.target.value));\r\n  };\r\n\r\n  return (\r\n    <div className=\"border rounded-lg p-4 bg-white\">\r\n      <div className=\"flex flex-col gap-4\">\r\n        {/* Toolbar */}\r\n        <div className=\"flex flex-wrap justify-between items-center gap-2\">\r\n          <h3 className=\"text-lg font-semibold\">Whiteboard</h3>\r\n          <div className=\"flex flex-wrap items-center gap-2\">\r\n            {/* Drawing Tools */}\r\n            <div className=\"flex items-center gap-1 p-1 bg-gray-100 rounded-md\">\r\n              <button\r\n                onClick={() => setActiveTool('pen')}\r\n                className={`p-2 rounded ${activeTool === 'pen' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Pen\"\r\n              >\r\n                <FiPenTool className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTool('eraser')}\r\n                className={`p-2 rounded ${activeTool === 'eraser' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Eraser\"\r\n              >\r\n                <FiX className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTool('text')}\r\n                className={`p-2 rounded ${activeTool === 'text' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Add Text\"\r\n              >\r\n                <FiType className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTool('rectangle')}\r\n                className={`p-2 rounded ${activeTool === 'rectangle' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Rectangle\"\r\n              >\r\n                <FiSquare className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTool('circle')}\r\n                className={`p-2 rounded ${activeTool === 'circle' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Circle\"\r\n              >\r\n                <FiCircle className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTool('line')}\r\n                className={`p-2 rounded ${activeTool === 'line' ? 'bg-white shadow' : 'hover:bg-gray-200'}`}\r\n                title=\"Line\"\r\n              >\r\n                <FiMinus className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Color Picker */}\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={() => setShowColorPicker(!showColorPicker)}\r\n                className=\"w-8 h-8 rounded border border-gray-300\"\r\n                style={{ backgroundColor: brushColor }}\r\n                title=\"Select color\"\r\n              />\r\n              {showColorPicker && (\r\n                <div className=\"absolute z-10 mt-2 p-2 bg-white rounded shadow-lg\">\r\n                  <div className=\"grid grid-cols-4 gap-2\">\r\n                    {colors.map((color) => (\r\n                      <button\r\n                        key={color}\r\n                        onClick={() => {\r\n                          setBrushColor(color);\r\n                          setShowColorPicker(false);\r\n                          setActiveTool('pen');\r\n                        }}\r\n                        className=\"w-6 h-6 rounded border border-gray-300\"\r\n                        style={{ backgroundColor: color }}\r\n                        title={color}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Brush Size */}\r\n            <div className=\"flex items-center gap-1\">\r\n              <span className=\"text-xs\">Size:</span>\r\n              <select\r\n                value={brushRadius}\r\n                onChange={(e) => setBrushRadius(Number(e.target.value))}\r\n                className=\"text-sm border rounded p-1\"\r\n              >\r\n                {brushSizes.map((size) => (\r\n                  <option key={size} value={size}>\r\n                    {size}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center gap-1\">\r\n              <button\r\n                onClick={handleUndo}\r\n                className=\"p-2 text-gray-700 hover:bg-gray-200 rounded\"\r\n                title=\"Undo\"\r\n              >\r\n                <FiRotateCcw className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={handleClear}\r\n                className=\"p-2 text-gray-700 hover:bg-gray-200 rounded\"\r\n                title=\"Clear\"\r\n              >\r\n                <FiTrash2 className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={handleSave}\r\n                className=\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n                title=\"Save\"\r\n              >\r\n                <FiSave className=\"w-5 h-5\" />\r\n              </button>\r\n              <button\r\n                onClick={handleExport}\r\n                className=\"p-2 bg-green-500 text-white rounded hover:bg-green-600\"\r\n                title=\"Export\"\r\n              >\r\n                <FiDownload className=\"w-5 h-5\" />\r\n              </button>\r\n              <a ref={fileDownloadRef} style={{ display: 'none' }}>Download</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Canvas Area */}\r\n        <div \r\n          ref={canvasContainerRef}\r\n          className=\"relative border rounded bg-white\"\r\n          style={{ width: '100%', height: '500px', overflow: 'hidden' }}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseMove={handleMouseMove}\r\n          onMouseUp={handleMouseUp}\r\n          onMouseLeave={handleMouseUp}\r\n        >\r\n          <CanvasDraw\r\n            ref={(canvasDraw: any) => {\r\n              if (canvasDraw) {\r\n                setCanvas(canvasDraw);\r\n                (canvasRef as React.MutableRefObject<any>).current = canvasDraw;\r\n              }\r\n            }}\r\n            brushColor={activeTool === 'eraser' ? '#fff' : brushColor}\r\n            brushRadius={brushRadius}\r\n            lazyRadius={0}\r\n            saveData={initialData}\r\n            style={{\r\n              width: '100%',\r\n              height: '100%',\r\n              touchAction: 'none',\r\n            }}\r\n            canvasWidth={800}\r\n            canvasHeight={500}\r\n          />\r\n          \r\n          {/* Text Input Overlay */}\r\n          {showTextInput && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                left: `${textPosition.x}px`,\r\n                top: `${textPosition.y}px`,\r\n                zIndex: 1000,\r\n              }}\r\n            >\r\n              <div className=\"flex bg-white border rounded shadow-lg p-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={textInput}\r\n                  onChange={(e) => setTextInput(e.target.value)}\r\n                  onKeyDown={(e) => e.key === 'Enter' && handleTextSubmit()}\r\n                  className=\"border rounded px-2 py-1 mr-2\"\r\n                  autoFocus\r\n                  placeholder=\"Enter text...\"\r\n                />\r\n                <button\r\n                  onClick={handleTextSubmit}\r\n                  className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n                >\r\n                  Add\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DiagramCanvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}