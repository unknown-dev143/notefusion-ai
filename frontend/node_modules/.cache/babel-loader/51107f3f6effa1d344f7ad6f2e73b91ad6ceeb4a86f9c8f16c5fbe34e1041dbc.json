{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\notefusion-ai\\\\notefusion-ai\\\\frontend\\\\src\\\\pages\\\\Whiteboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\n// import DiagramCanvas from '../components/DiagramCanvas';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { apiService } from '../services/apiService';\nimport toast from 'react-hot-toast';\nimport { FiSave, FiVideo, FiX } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Whiteboard = () => {\n  _s();\n  // State management\n  const [diagramData, setDiagramData] = useState('');\n  const [selectedSession, setSelectedSession] = useState('');\n  const [showVideoPanel, setShowVideoPanel] = useState(false);\n  const [showNewNoteForm, setShowNewNoteForm] = useState(false);\n  const [formError, setFormError] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Video generation state\n  const [videoState, setVideoState] = useState({\n    text: '',\n    voice: 'default',\n    style: 'default',\n    url: undefined,\n    loading: false,\n    error: null\n  });\n\n  // Form validation\n  const validateForm = () => {\n    if (!newNote.title.trim()) {\n      setFormError('Title is required');\n      return false;\n    }\n    if (!newNote.module_code.trim()) {\n      setFormError('Module code is required');\n      return false;\n    }\n    if (!newNote.content.trim()) {\n      setFormError('Content is required');\n      return false;\n    }\n    setFormError(null);\n    return true;\n  };\n\n  // Note form state\n  const [newNote, setNewNote] = useState({\n    title: '',\n    module_code: '',\n    chapters: '',\n    detail_level: 'basic',\n    content: ''\n  });\n  const queryClient = useQueryClient();\n\n  // Fetch sessions\n  const {\n    data: sessionsData,\n    isLoading: sessionsLoading\n  } = useQuery({\n    queryKey: ['sessions'],\n    queryFn: apiService.getSessions,\n    onSuccess: data => {\n      var _data$sessions;\n      if ((data === null || data === void 0 ? void 0 : (_data$sessions = data.sessions) === null || _data$sessions === void 0 ? void 0 : _data$sessions.length) > 0 && !selectedSession) {\n        setSelectedSession(data.sessions[0].session_id);\n        // Load the diagram data if available\n        const session = data.sessions[0];\n        if (session.diagram_data) {\n          setDiagramData(session.diagram_data);\n        }\n      }\n    }\n  });\n  const sessions = (sessionsData === null || sessionsData === void 0 ? void 0 : sessionsData.sessions) || [];\n\n  // Create session mutation\n  const createSessionMutation = useMutation({\n    mutationFn: async data => {\n      const response = await apiService.createSession(data);\n      return response.data;\n    },\n    onSuccess: () => {\n      toast.success('Note created successfully');\n      setShowNewNoteForm(false);\n      setNewNote({\n        title: '',\n        module_code: '',\n        chapters: '',\n        detail_level: 'basic',\n        content: ''\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['sessions']\n      });\n    },\n    onError: error => {\n      console.error('Error creating note:', error);\n      toast.error('Failed to create note');\n    }\n  });\n\n  // Save diagram mutation\n  const saveDiagramMutation = useMutation({\n    mutationFn: async ({\n      sessionId,\n      data,\n      diagramType = 'freehand'\n    }) => {\n      await apiService.saveDiagram(sessionId, data, diagramType);\n    },\n    onSuccess: () => {\n      toast.success('Diagram saved successfully');\n      queryClient.invalidateQueries({\n        queryKey: ['sessions']\n      });\n    },\n    onError: error => {\n      console.error('Error saving diagram:', error);\n      toast.error('Failed to save diagram');\n    }\n  });\n\n  // Handle generating video from notes\n  const handleGenerateVideo = useCallback(async () => {\n    if (!videoState.text.trim()) {\n      toast.error('Please enter some text for the video');\n      return;\n    }\n    try {\n      setVideoState(prev => ({\n        ...prev,\n        loading: true,\n        error: null\n      }));\n\n      // Simulate API call with timeout (replace with actual API call when ready)\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // In a real app, this would be an actual API call\n      const videoUrl = `https://example.com/generated-video-${Date.now()}.mp4`;\n      setVideoState(prev => ({\n        ...prev,\n        loading: false,\n        url: videoUrl\n      }));\n      toast.success('Video generated successfully!');\n    } catch (error) {\n      console.error('Error generating video:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Failed to generate video';\n      setVideoState(prev => ({\n        ...prev,\n        loading: false,\n        error: errorMessage\n      }));\n      toast.error(errorMessage);\n    }\n  }, [videoState.text, videoState.voice, videoState.style, diagramData]);\n\n  // Handle saving diagram to the current note\n  const handleSaveDiagram = useCallback(() => {\n    if (!selectedSession) {\n      toast.error('Please select a note to save the diagram to');\n      return;\n    }\n    if (!diagramData) {\n      toast.error('No diagram data to save');\n      return;\n    }\n    saveDiagramMutation.mutate({\n      sessionId: selectedSession,\n      data: diagramData,\n      diagramType: 'freehand'\n    });\n  }, [selectedSession, diagramData, saveDiagramMutation]);\n\n  // Handle saving the diagram when drawing\n  const handleSaveDrawing = useCallback(data => {\n    setDiagramData(data);\n    // Auto-save to the selected session if available\n    if (selectedSession) {\n      saveDiagramMutation.mutate({\n        sessionId: selectedSession,\n        data,\n        diagramType: 'freehand'\n      });\n    }\n  }, [selectedSession, saveDiagramMutation]);\n\n  // Handle auto-saving the diagram\n  const handleAutoSave = useCallback(data => {\n    setDiagramData(data);\n  }, []);\n\n  // Handle creating a new note\n  const handleCreateNote = useCallback(async () => {\n    if (!validateForm()) return;\n    setIsSaving(true);\n    setFormError(null);\n    try {\n      await createSessionMutation.mutateAsync({\n        ...newNote,\n        diagram_data: diagramData\n      });\n    } catch (error) {\n      console.error('Error creating note:', error);\n      setFormError('Failed to create note. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  }, [newNote, diagramData, createSessionMutation]);\n\n  // Handle note input change\n  const handleNoteChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewNote(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n\n  // Video generation handlers\n  const handleVideoTextChange = useCallback(e => {\n    setVideoState(prev => ({\n      ...prev,\n      text: e.target.value\n    }));\n  }, []);\n  const handleVoiceChange = useCallback(e => {\n    setVideoState(prev => ({\n      ...prev,\n      voice: e.target.value\n    }));\n  }, []);\n  const handleStyleChange = useCallback(e => {\n    setVideoState(prev => ({\n      ...prev,\n      style: e.target.value\n    }));\n  }, []);\n\n  // Loading overlay\n  if (isSaving) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-xl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700\",\n          children: \"Creating your note...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main component render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto py-8 px-4\",\n    children: [formError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-medium\",\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Whiteboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowNewNoteForm(true),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\",\n          children: \"New Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowVideoPanel(!showVideoPanel),\n          className: \"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors\",\n          children: showVideoPanel ? 'Hide Video Panel' : 'Generate Video'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 bg-white rounded-lg shadow-md p-4\",\n        children: [/*#__PURE__*/_jsxDEV(DiagramCanvas, {\n          onSave: handleSaveDrawing,\n          onAutoSave: handleAutoSave,\n          initialData: diagramData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex flex-wrap gap-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setDiagramData(''),\n            className: \"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 rounded-md text-sm font-medium transition-colors\",\n            children: \"Clear Canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), showVideoPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Generate Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Notes for Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: videoState.text,\n              onChange: handleVideoTextChange,\n              placeholder: \"Enter your notes here...\",\n              className: \"w-full border rounded-md p-2 min-h-[100px] text-sm\",\n              disabled: videoState.loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Voice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: videoState.voice,\n                onChange: handleVoiceChange,\n                className: \"w-full border rounded-md p-2 text-sm\",\n                disabled: videoState.loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"default\",\n                  children: \"Default\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"male\",\n                  children: \"Male\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"female\",\n                  children: \"Female\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Style\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: videoState.style,\n                onChange: handleStyleChange,\n                className: \"w-full border rounded-md p-2 text-sm\",\n                disabled: videoState.loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"default\",\n                  children: \"Default\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"educational\",\n                  children: \"Educational\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"casual\",\n                  children: \"Casual\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateVideo,\n            disabled: videoState.loading || !videoState.text.trim(),\n            className: \"w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2\",\n            children: videoState.loading ? 'Generating...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiVideo, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Generate Video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), videoState.error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-600 text-sm\",\n            children: videoState.error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 17\n          }, this), videoState.url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              src: videoState.url,\n              controls: true,\n              className: \"w-full rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 flex justify-end\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: videoState.url,\n                download: \"generated-video.mp4\",\n                className: \"text-sm text-blue-600 hover:underline\",\n                children: \"Download Video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), showNewNoteForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Create New Note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewNoteForm(false),\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(FiX, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: newNote.title,\n              onChange: handleNoteChange,\n              className: `w-full border rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${formError && !newNote.title ? 'border-red-500' : ''}`,\n              placeholder: \"Enter note title\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Module Code *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"module_code\",\n                value: newNote.module_code,\n                onChange: handleNoteChange,\n                className: `w-full border rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${formError && !newNote.module_code ? 'border-red-500' : ''}`,\n                placeholder: \"e.g., CS101\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Detail Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"detail_level\",\n                value: newNote.detail_level,\n                onChange: handleNoteChange,\n                className: \"w-full border rounded-md p-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"basic\",\n                  children: \"Basic\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"intermediate\",\n                  children: \"Intermediate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"advanced\",\n                  children: \"Advanced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Chapters/Topics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"chapters\",\n              value: newNote.chapters,\n              onChange: handleNoteChange,\n              className: \"w-full border rounded-md p-2 text-sm\",\n              placeholder: \"e.g., Chapter 1, 2, 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Content *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"content\",\n              value: newNote.content,\n              onChange: handleNoteChange,\n              className: `w-full border rounded-md p-2 text-sm min-h-[150px] focus:ring-2 focus:ring-blue-500 focus:border-transparent ${formError && !newNote.content ? 'border-red-500' : ''}`,\n              placeholder: \"Enter your note content here...\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-3 pt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowNewNoteForm(false),\n              className: \"px-4 py-2 border rounded-md text-sm font-medium hover:bg-gray-50\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleCreateNote,\n              disabled: !newNote.title || !newNote.module_code || !newNote.content || createSessionMutation.isLoading,\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2 transition-colors duration-200\",\n              children: createSessionMutation.isLoading ? 'Creating...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FiSave, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Create Note\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n_s(Whiteboard, \"zk7AMCQr9ORRb4hnyy3qVTcGjjM=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = Whiteboard;\nconst isSameSession = (a, b) => a.session_id === b.session_id;\nexport default Whiteboard;\nvar _c;\n$RefreshReg$(_c, \"Whiteboard\");","map":{"version":3,"names":["React","useState","useCallback","useMutation","useQuery","useQueryClient","apiService","toast","FiSave","FiVideo","FiX","jsxDEV","_jsxDEV","Fragment","_Fragment","Whiteboard","_s","diagramData","setDiagramData","selectedSession","setSelectedSession","showVideoPanel","setShowVideoPanel","showNewNoteForm","setShowNewNoteForm","formError","setFormError","isSaving","setIsSaving","videoState","setVideoState","text","voice","style","url","undefined","loading","error","validateForm","newNote","title","trim","module_code","content","setNewNote","chapters","detail_level","queryClient","data","sessionsData","isLoading","sessionsLoading","queryKey","queryFn","getSessions","onSuccess","_data$sessions","sessions","length","session_id","session","diagram_data","createSessionMutation","mutationFn","response","createSession","success","invalidateQueries","onError","console","saveDiagramMutation","sessionId","diagramType","saveDiagram","handleGenerateVideo","prev","Promise","resolve","setTimeout","videoUrl","Date","now","errorMessage","Error","message","handleSaveDiagram","mutate","handleSaveDrawing","handleAutoSave","handleCreateNote","mutateAsync","handleNoteChange","e","name","value","target","handleVideoTextChange","handleVoiceChange","handleStyleChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","DiagramCanvas","onSave","onAutoSave","initialData","onChange","placeholder","disabled","size","src","controls","href","download","type","required","_c","isSameSession","a","b","$RefreshReg$"],"sources":["C:/Users/User/notefusion-ai/notefusion-ai/frontend/src/pages/Whiteboard.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\n// import DiagramCanvas from '../components/DiagramCanvas';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { apiService } from '../services/apiService';\nimport toast from 'react-hot-toast';\nimport { FiSave, FiVideo, FiPlus, FiX } from 'react-icons/fi';\n\ninterface SessionsApiResponse {\n  sessions: Session[];\n}\n\ninterface Session {\n  session_id: string;\n  module_code: string;\n  title: string;\n  chapters: string;\n  detail_level: string;\n  created_at: string;\n  updated_at: string;\n  diagram_data?: string;\n}\n\ninterface NoteFormData {\n  title: string;\n  module_code: string;\n  chapters: string;\n  detail_level: string;\n  content: string;\n  diagram_data?: string;\n}\n\ninterface SaveDiagramParams {\n  sessionId: string;\n  data: string;\n  diagramType?: string;\n}\n\nconst Whiteboard: React.FC = () => {\n  // State management\n  const [diagramData, setDiagramData] = useState<string>('');\n  const [selectedSession, setSelectedSession] = useState<string>('');\n  const [showVideoPanel, setShowVideoPanel] = useState(false);\n  const [showNewNoteForm, setShowNewNoteForm] = useState(false);\n  const [formError, setFormError] = useState<string | null>(null);\n  const [isSaving, setIsSaving] = useState(false);\n  \n  // Video generation state\n  const [videoState, setVideoState] = useState({\n    text: '',\n    voice: 'default' as 'default' | 'male' | 'female',\n    style: 'default' as 'default' | 'educational' | 'casual',\n    url: undefined as string | undefined,\n    loading: false,\n    error: null as string | null\n  });\n\n  // Form validation\n  const validateForm = (): boolean => {\n    if (!newNote.title.trim()) {\n      setFormError('Title is required');\n      return false;\n    }\n    if (!newNote.module_code.trim()) {\n      setFormError('Module code is required');\n      return false;\n    }\n    if (!newNote.content.trim()) {\n      setFormError('Content is required');\n      return false;\n    }\n    setFormError(null);\n    return true;\n  };\n  \n  // Note form state\n  const [newNote, setNewNote] = useState<NoteFormData>({\n    title: '',\n    module_code: '',\n    chapters: '',\n    detail_level: 'basic',\n    content: ''\n  });\n  \n  const queryClient = useQueryClient();\n  \n  // Fetch sessions\n  const { data: sessionsData, isLoading: sessionsLoading } = useQuery<SessionsApiResponse, Error>(\n    {\n      queryKey: ['sessions'],\n      queryFn: apiService.getSessions,\n      onSuccess: (data) => {\n        if (data?.sessions?.length > 0 && !selectedSession) {\n          setSelectedSession(data.sessions[0].session_id);\n          // Load the diagram data if available\n          const session = data.sessions[0];\n          if (session.diagram_data) {\n            setDiagramData(session.diagram_data);\n          }\n        }\n      }\n    }\n  );\n  \n  const sessions = sessionsData?.sessions || [];\n  \n  // Create session mutation\n  const createSessionMutation = useMutation({\n    mutationFn: async (data: NoteFormData) => {\n      const response = await apiService.createSession(data);\n      return response.data;\n    },\n    onSuccess: () => {\n      toast.success('Note created successfully');\n      setShowNewNoteForm(false);\n      setNewNote({\n        title: '',\n        module_code: '',\n        chapters: '',\n        detail_level: 'basic',\n        content: ''\n      });\n      queryClient.invalidateQueries({ queryKey: ['sessions'] });\n    },\n    onError: (error: Error) => {\n      console.error('Error creating note:', error);\n      toast.error('Failed to create note');\n    }\n  });\n  \n  // Save diagram mutation\n  const saveDiagramMutation = useMutation({\n    mutationFn: async ({ sessionId, data, diagramType = 'freehand' }: SaveDiagramParams) => {\n      await apiService.saveDiagram(sessionId, data, diagramType);\n    },\n    onSuccess: () => {\n      toast.success('Diagram saved successfully');\n      queryClient.invalidateQueries({ queryKey: ['sessions'] });\n    },\n    onError: (error: Error) => {\n      console.error('Error saving diagram:', error);\n      toast.error('Failed to save diagram');\n    }\n  });\n  \n  // Handle generating video from notes\n  const handleGenerateVideo = useCallback(async (): Promise<void> => {\n    if (!videoState.text.trim()) {\n      toast.error('Please enter some text for the video');\n      return;\n    }\n\n    try {\n      setVideoState(prev => ({ ...prev, loading: true, error: null }));\n      \n      // Simulate API call with timeout (replace with actual API call when ready)\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // In a real app, this would be an actual API call\n      const videoUrl = `https://example.com/generated-video-${Date.now()}.mp4`;\n      \n      setVideoState(prev => ({\n        ...prev,\n        loading: false,\n        url: videoUrl\n      }));\n      \n      toast.success('Video generated successfully!');\n    } catch (error) {\n      console.error('Error generating video:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Failed to generate video';\n      setVideoState(prev => ({\n        ...prev,\n        loading: false,\n        error: errorMessage\n      }));\n      toast.error(errorMessage);\n    }\n  }, [videoState.text, videoState.voice, videoState.style, diagramData]);\n\n  // Handle saving diagram to the current note\n  const handleSaveDiagram = useCallback((): void => {\n    if (!selectedSession) {\n      toast.error('Please select a note to save the diagram to');\n      return;\n    }\n    \n    if (!diagramData) {\n      toast.error('No diagram data to save');\n      return;\n    }\n    \n    saveDiagramMutation.mutate({\n      sessionId: selectedSession,\n      data: diagramData,\n      diagramType: 'freehand'\n    });\n  }, [selectedSession, diagramData, saveDiagramMutation]);\n  \n  // Handle saving the diagram when drawing\n  const handleSaveDrawing = useCallback((data: string): void => {\n    setDiagramData(data);\n    // Auto-save to the selected session if available\n    if (selectedSession) {\n      saveDiagramMutation.mutate({\n        sessionId: selectedSession,\n        data,\n        diagramType: 'freehand'\n      });\n    }\n  }, [selectedSession, saveDiagramMutation]);\n\n  // Handle auto-saving the diagram\n  const handleAutoSave = useCallback((data: string): void => {\n    setDiagramData(data);\n  }, []);\n\n  // Handle creating a new note\n  const handleCreateNote = useCallback(async (): Promise<void> => {\n    if (!validateForm()) return;\n    \n    setIsSaving(true);\n    setFormError(null);\n    \n    try {\n      await createSessionMutation.mutateAsync({\n        ...newNote,\n        diagram_data: diagramData\n      });\n    } catch (error) {\n      console.error('Error creating note:', error);\n      setFormError('Failed to create note. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  }, [newNote, diagramData, createSessionMutation]);\n\n\n  // Handle note input change\n  const handleNoteChange = useCallback((e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setNewNote(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n  \n  // Video generation handlers\n  const handleVideoTextChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setVideoState(prev => ({ ...prev, text: e.target.value }));\n  }, []);\n\n  const handleVoiceChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n    setVideoState(prev => ({ ...prev, voice: e.target.value as 'default' | 'male' | 'female' }));\n  }, []);\n\n  const handleStyleChange = useCallback((e: React.ChangeEvent<HTMLSelectElement>) => {\n    setVideoState(prev => ({ ...prev, style: e.target.value as 'default' | 'educational' | 'casual' }));\n  }, []);\n\n  // Loading overlay\n  if (isSaving) {\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white p-6 rounded-lg shadow-xl text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n          <p className=\"text-gray-700\">Creating your note...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Main component render\n  return (\n    <div className=\"max-w-6xl mx-auto py-8 px-4\">\n      {/* Error message */}\n      {formError && (\n        <div className=\"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\">\n          <p className=\"font-medium\">Error</p>\n          <p>{formError}</p>\n        </div>\n      )}\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold\">Whiteboard</h1>\n        <div className=\"flex gap-3\">\n          <button\n            onClick={() => setShowNewNoteForm(true)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n          >\n            New Note\n          </button>\n          <button\n            onClick={() => setShowVideoPanel(!showVideoPanel)}\n            className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors\"\n          >\n            {showVideoPanel ? 'Hide Video Panel' : 'Generate Video'}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main whiteboard area */}\n        <div className=\"lg:col-span-2 bg-white rounded-lg shadow-md p-4\">\n          <DiagramCanvas \n            onSave={handleSaveDrawing}\n            onAutoSave={handleAutoSave}\n            initialData={diagramData}\n          />\n          \n          <div className=\"mt-4 flex flex-wrap gap-3\">\n            <button\n              onClick={() => setDiagramData('')}\n              className=\"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 rounded-md text-sm font-medium transition-colors\"\n            >\n              Clear Canvas\n            </button>\n          </div>\n        </div>\n\n        {/* Video generation panel */}\n        {showVideoPanel && (\n          <div className=\"bg-white rounded-lg shadow-md p-4\">\n            <h2 className=\"text-lg font-semibold mb-4\">Generate Video</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Notes for Video\n                </label>\n                <textarea\n                  value={videoState.text}\n                  onChange={handleVideoTextChange}\n                  placeholder=\"Enter your notes here...\"\n                  className=\"w-full border rounded-md p-2 min-h-[100px] text-sm\"\n                  disabled={videoState.loading}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Voice\n                  </label>\n                  <select\n                    value={videoState.voice}\n                    onChange={handleVoiceChange}\n                    className=\"w-full border rounded-md p-2 text-sm\"\n                    disabled={videoState.loading}\n                  >\n                    <option value=\"default\">Default</option>\n                    <option value=\"male\">Male</option>\n                    <option value=\"female\">Female</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Style\n                  </label>\n                  <select\n                    value={videoState.style}\n                    onChange={handleStyleChange}\n                    className=\"w-full border rounded-md p-2 text-sm\"\n                    disabled={videoState.loading}\n                  >\n                    <option value=\"default\">Default</option>\n                    <option value=\"educational\">Educational</option>\n                    <option value=\"casual\">Casual</option>\n                  </select>\n                </div>\n              </div>\n\n              <button\n                onClick={handleGenerateVideo}\n                disabled={videoState.loading || !videoState.text.trim()}\n                className=\"w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2\"\n              >\n                {videoState.loading ? (\n                  'Generating...'\n                ) : (\n                  <>\n                    <FiVideo size={16} />\n                    <span>Generate Video</span>\n                  </>\n                )}\n              </button>\n\n              {videoState.error && (\n                <div className=\"text-red-600 text-sm\">{videoState.error}</div>\n              )}\n\n              {videoState.url && (\n                <div className=\"mt-4\">\n                  <video\n                    src={videoState.url}\n                    controls\n                    className=\"w-full rounded-md\"\n                  />\n                  <div className=\"mt-2 flex justify-end\">\n                    <a\n                      href={videoState.url}\n                      download=\"generated-video.mp4\"\n                      className=\"text-sm text-blue-600 hover:underline\"\n                    >\n                      Download Video\n                    </a>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* New Note Modal */}\n      {showNewNoteForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-bold\">Create New Note</h2>\n              <button\n                onClick={() => setShowNewNoteForm(false)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <FiX size={24} />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Title *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  value={newNote.title}\n                  onChange={handleNoteChange}\n                  className={`w-full border rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    formError && !newNote.title ? 'border-red-500' : ''\n                  }`}\n                  placeholder=\"Enter note title\"\n                  required\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Module Code *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"module_code\"\n                    value={newNote.module_code}\n                    onChange={handleNoteChange}\n                    className={`w-full border rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                      formError && !newNote.module_code ? 'border-red-500' : ''\n                    }`}\n                    placeholder=\"e.g., CS101\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Detail Level\n                  </label>\n                  <select\n                    name=\"detail_level\"\n                    value={newNote.detail_level}\n                    onChange={handleNoteChange}\n                    className=\"w-full border rounded-md p-2 text-sm\"\n                  >\n                    <option value=\"basic\">Basic</option>\n                    <option value=\"intermediate\">Intermediate</option>\n                    <option value=\"advanced\">Advanced</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Chapters/Topics\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"chapters\"\n                  value={newNote.chapters}\n                  onChange={handleNoteChange}\n                  className=\"w-full border rounded-md p-2 text-sm\"\n                  placeholder=\"e.g., Chapter 1, 2, 3\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Content *\n                </label>\n                <textarea\n                  name=\"content\"\n                  value={newNote.content}\n                  onChange={handleNoteChange}\n                  className={`w-full border rounded-md p-2 text-sm min-h-[150px] focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    formError && !newNote.content ? 'border-red-500' : ''\n                  }`}\n                  placeholder=\"Enter your note content here...\"\n                  required\n                />\n              </div>\n\n              <div className=\"flex justify-end gap-3 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowNewNoteForm(false)}\n                  className=\"px-4 py-2 border rounded-md text-sm font-medium hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleCreateNote}\n                  disabled={!newNote.title || !newNote.module_code || !newNote.content || createSessionMutation.isLoading}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2 transition-colors duration-200\"\n                >\n                  {createSessionMutation.isLoading ? 'Creating...' : (\n                    <>\n                      <FiSave size={16} />\n                      <span>Create Note</span>\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst isSameSession = (a: Session, b: Session) => a.session_id === b.session_id;\n\nexport default Whiteboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,QAAmB,OAAO;AAC/D;AACA,SAASC,WAAW,EAAEC,QAAQ,EAAEC,cAAc,QAAQ,uBAAuB;AAC7E,SAASC,UAAU,QAAQ,wBAAwB;AACnD,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,MAAM,EAAEC,OAAO,EAAUC,GAAG,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAgC9D,MAAMC,UAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC;EACA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAS,EAAE,CAAC;EAC1D,MAAM,CAACkB,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAS,EAAE,CAAC;EAClE,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACwB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAgB,IAAI,CAAC;EAC/D,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;;EAE/C;EACA,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC;IAC3C8B,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,SAA0C;IACjDC,KAAK,EAAE,SAAiD;IACxDC,GAAG,EAAEC,SAA+B;IACpCC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC,CAAC;;EAEF;EACA,MAAMC,YAAY,GAAGA,CAAA,KAAe;IAClC,IAAI,CAACC,OAAO,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE;MACzBf,YAAY,CAAC,mBAAmB,CAAC;MACjC,OAAO,KAAK;IACd;IACA,IAAI,CAACa,OAAO,CAACG,WAAW,CAACD,IAAI,CAAC,CAAC,EAAE;MAC/Bf,YAAY,CAAC,yBAAyB,CAAC;MACvC,OAAO,KAAK;IACd;IACA,IAAI,CAACa,OAAO,CAACI,OAAO,CAACF,IAAI,CAAC,CAAC,EAAE;MAC3Bf,YAAY,CAAC,qBAAqB,CAAC;MACnC,OAAO,KAAK;IACd;IACAA,YAAY,CAAC,IAAI,CAAC;IAClB,OAAO,IAAI;EACb,CAAC;;EAED;EACA,MAAM,CAACa,OAAO,EAAEK,UAAU,CAAC,GAAG3C,QAAQ,CAAe;IACnDuC,KAAK,EAAE,EAAE;IACTE,WAAW,EAAE,EAAE;IACfG,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,OAAO;IACrBH,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,MAAMI,WAAW,GAAG1C,cAAc,CAAC,CAAC;;EAEpC;EACA,MAAM;IAAE2C,IAAI,EAAEC,YAAY;IAAEC,SAAS,EAAEC;EAAgB,CAAC,GAAG/C,QAAQ,CACjE;IACEgD,QAAQ,EAAE,CAAC,UAAU,CAAC;IACtBC,OAAO,EAAE/C,UAAU,CAACgD,WAAW;IAC/BC,SAAS,EAAGP,IAAI,IAAK;MAAA,IAAAQ,cAAA;MACnB,IAAI,CAAAR,IAAI,aAAJA,IAAI,wBAAAQ,cAAA,GAAJR,IAAI,CAAES,QAAQ,cAAAD,cAAA,uBAAdA,cAAA,CAAgBE,MAAM,IAAG,CAAC,IAAI,CAACvC,eAAe,EAAE;QAClDC,kBAAkB,CAAC4B,IAAI,CAACS,QAAQ,CAAC,CAAC,CAAC,CAACE,UAAU,CAAC;QAC/C;QACA,MAAMC,OAAO,GAAGZ,IAAI,CAACS,QAAQ,CAAC,CAAC,CAAC;QAChC,IAAIG,OAAO,CAACC,YAAY,EAAE;UACxB3C,cAAc,CAAC0C,OAAO,CAACC,YAAY,CAAC;QACtC;MACF;IACF;EACF,CACF,CAAC;EAED,MAAMJ,QAAQ,GAAG,CAAAR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,QAAQ,KAAI,EAAE;;EAE7C;EACA,MAAMK,qBAAqB,GAAG3D,WAAW,CAAC;IACxC4D,UAAU,EAAE,MAAOf,IAAkB,IAAK;MACxC,MAAMgB,QAAQ,GAAG,MAAM1D,UAAU,CAAC2D,aAAa,CAACjB,IAAI,CAAC;MACrD,OAAOgB,QAAQ,CAAChB,IAAI;IACtB,CAAC;IACDO,SAAS,EAAEA,CAAA,KAAM;MACfhD,KAAK,CAAC2D,OAAO,CAAC,2BAA2B,CAAC;MAC1C1C,kBAAkB,CAAC,KAAK,CAAC;MACzBoB,UAAU,CAAC;QACTJ,KAAK,EAAE,EAAE;QACTE,WAAW,EAAE,EAAE;QACfG,QAAQ,EAAE,EAAE;QACZC,YAAY,EAAE,OAAO;QACrBH,OAAO,EAAE;MACX,CAAC,CAAC;MACFI,WAAW,CAACoB,iBAAiB,CAAC;QAAEf,QAAQ,EAAE,CAAC,UAAU;MAAE,CAAC,CAAC;IAC3D,CAAC;IACDgB,OAAO,EAAG/B,KAAY,IAAK;MACzBgC,OAAO,CAAChC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C9B,KAAK,CAAC8B,KAAK,CAAC,uBAAuB,CAAC;IACtC;EACF,CAAC,CAAC;;EAEF;EACA,MAAMiC,mBAAmB,GAAGnE,WAAW,CAAC;IACtC4D,UAAU,EAAE,MAAAA,CAAO;MAAEQ,SAAS;MAAEvB,IAAI;MAAEwB,WAAW,GAAG;IAA8B,CAAC,KAAK;MACtF,MAAMlE,UAAU,CAACmE,WAAW,CAACF,SAAS,EAAEvB,IAAI,EAAEwB,WAAW,CAAC;IAC5D,CAAC;IACDjB,SAAS,EAAEA,CAAA,KAAM;MACfhD,KAAK,CAAC2D,OAAO,CAAC,4BAA4B,CAAC;MAC3CnB,WAAW,CAACoB,iBAAiB,CAAC;QAAEf,QAAQ,EAAE,CAAC,UAAU;MAAE,CAAC,CAAC;IAC3D,CAAC;IACDgB,OAAO,EAAG/B,KAAY,IAAK;MACzBgC,OAAO,CAAChC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C9B,KAAK,CAAC8B,KAAK,CAAC,wBAAwB,CAAC;IACvC;EACF,CAAC,CAAC;;EAEF;EACA,MAAMqC,mBAAmB,GAAGxE,WAAW,CAAC,YAA2B;IACjE,IAAI,CAAC2B,UAAU,CAACE,IAAI,CAACU,IAAI,CAAC,CAAC,EAAE;MAC3BlC,KAAK,CAAC8B,KAAK,CAAC,sCAAsC,CAAC;MACnD;IACF;IAEA,IAAI;MACFP,aAAa,CAAC6C,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEvC,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC,CAAC;;MAEhE;MACA,MAAM,IAAIuC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC,CAAC;;MAEvD;MACA,MAAME,QAAQ,GAAG,uCAAuCC,IAAI,CAACC,GAAG,CAAC,CAAC,MAAM;MAExEnD,aAAa,CAAC6C,IAAI,KAAK;QACrB,GAAGA,IAAI;QACPvC,OAAO,EAAE,KAAK;QACdF,GAAG,EAAE6C;MACP,CAAC,CAAC,CAAC;MAEHxE,KAAK,CAAC2D,OAAO,CAAC,+BAA+B,CAAC;IAChD,CAAC,CAAC,OAAO7B,KAAK,EAAE;MACdgC,OAAO,CAAChC,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAM6C,YAAY,GAAG7C,KAAK,YAAY8C,KAAK,GAAG9C,KAAK,CAAC+C,OAAO,GAAG,0BAA0B;MACxFtD,aAAa,CAAC6C,IAAI,KAAK;QACrB,GAAGA,IAAI;QACPvC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE6C;MACT,CAAC,CAAC,CAAC;MACH3E,KAAK,CAAC8B,KAAK,CAAC6C,YAAY,CAAC;IAC3B;EACF,CAAC,EAAE,CAACrD,UAAU,CAACE,IAAI,EAAEF,UAAU,CAACG,KAAK,EAAEH,UAAU,CAACI,KAAK,EAAEhB,WAAW,CAAC,CAAC;;EAEtE;EACA,MAAMoE,iBAAiB,GAAGnF,WAAW,CAAC,MAAY;IAChD,IAAI,CAACiB,eAAe,EAAE;MACpBZ,KAAK,CAAC8B,KAAK,CAAC,6CAA6C,CAAC;MAC1D;IACF;IAEA,IAAI,CAACpB,WAAW,EAAE;MAChBV,KAAK,CAAC8B,KAAK,CAAC,yBAAyB,CAAC;MACtC;IACF;IAEAiC,mBAAmB,CAACgB,MAAM,CAAC;MACzBf,SAAS,EAAEpD,eAAe;MAC1B6B,IAAI,EAAE/B,WAAW;MACjBuD,WAAW,EAAE;IACf,CAAC,CAAC;EACJ,CAAC,EAAE,CAACrD,eAAe,EAAEF,WAAW,EAAEqD,mBAAmB,CAAC,CAAC;;EAEvD;EACA,MAAMiB,iBAAiB,GAAGrF,WAAW,CAAE8C,IAAY,IAAW;IAC5D9B,cAAc,CAAC8B,IAAI,CAAC;IACpB;IACA,IAAI7B,eAAe,EAAE;MACnBmD,mBAAmB,CAACgB,MAAM,CAAC;QACzBf,SAAS,EAAEpD,eAAe;QAC1B6B,IAAI;QACJwB,WAAW,EAAE;MACf,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACrD,eAAe,EAAEmD,mBAAmB,CAAC,CAAC;;EAE1C;EACA,MAAMkB,cAAc,GAAGtF,WAAW,CAAE8C,IAAY,IAAW;IACzD9B,cAAc,CAAC8B,IAAI,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMyC,gBAAgB,GAAGvF,WAAW,CAAC,YAA2B;IAC9D,IAAI,CAACoC,YAAY,CAAC,CAAC,EAAE;IAErBV,WAAW,CAAC,IAAI,CAAC;IACjBF,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACF,MAAMoC,qBAAqB,CAAC4B,WAAW,CAAC;QACtC,GAAGnD,OAAO;QACVsB,YAAY,EAAE5C;MAChB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOoB,KAAK,EAAE;MACdgC,OAAO,CAAChC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CX,YAAY,CAAC,0CAA0C,CAAC;IAC1D,CAAC,SAAS;MACRE,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC,EAAE,CAACW,OAAO,EAAEtB,WAAW,EAAE6C,qBAAqB,CAAC,CAAC;;EAGjD;EACA,MAAM6B,gBAAgB,GAAGzF,WAAW,CAAE0F,CAAgF,IAAK;IACzH,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCnD,UAAU,CAAC+B,IAAI,KAAK;MAClB,GAAGA,IAAI;MACP,CAACkB,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAME,qBAAqB,GAAG9F,WAAW,CAAE0F,CAAyC,IAAK;IACvF9D,aAAa,CAAC6C,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE5C,IAAI,EAAE6D,CAAC,CAACG,MAAM,CAACD;IAAM,CAAC,CAAC,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,iBAAiB,GAAG/F,WAAW,CAAE0F,CAAuC,IAAK;IACjF9D,aAAa,CAAC6C,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE3C,KAAK,EAAE4D,CAAC,CAACG,MAAM,CAACD;IAAuC,CAAC,CAAC,CAAC;EAC9F,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,iBAAiB,GAAGhG,WAAW,CAAE0F,CAAuC,IAAK;IACjF9D,aAAa,CAAC6C,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE1C,KAAK,EAAE2D,CAAC,CAACG,MAAM,CAACD;IAA8C,CAAC,CAAC,CAAC;EACrG,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,IAAInE,QAAQ,EAAE;IACZ,oBACEf,OAAA;MAAKuF,SAAS,EAAC,4EAA4E;MAAAC,QAAA,eACzFxF,OAAA;QAAKuF,SAAS,EAAC,+CAA+C;QAAAC,QAAA,gBAC5DxF,OAAA;UAAKuF,SAAS,EAAC;QAA6E;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnG5F,OAAA;UAAGuF,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,oBACE5F,OAAA;IAAKuF,SAAS,EAAC,6BAA6B;IAAAC,QAAA,GAEzC3E,SAAS,iBACRb,OAAA;MAAKuF,SAAS,EAAC,4DAA4D;MAACM,IAAI,EAAC,OAAO;MAAAL,QAAA,gBACtFxF,OAAA;QAAGuF,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACpC5F,OAAA;QAAAwF,QAAA,EAAI3E;MAAS;QAAA4E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CACN,eACD5F,OAAA;MAAKuF,SAAS,EAAC,wCAAwC;MAAAC,QAAA,gBACrDxF,OAAA;QAAIuF,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClD5F,OAAA;QAAKuF,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBxF,OAAA;UACE8F,OAAO,EAAEA,CAAA,KAAMlF,kBAAkB,CAAC,IAAI,CAAE;UACxC2E,SAAS,EAAC,iFAAiF;UAAAC,QAAA,EAC5F;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT5F,OAAA;UACE8F,OAAO,EAAEA,CAAA,KAAMpF,iBAAiB,CAAC,CAACD,cAAc,CAAE;UAClD8E,SAAS,EAAC,qFAAqF;UAAAC,QAAA,EAE9F/E,cAAc,GAAG,kBAAkB,GAAG;QAAgB;UAAAgF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN5F,OAAA;MAAKuF,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAEpDxF,OAAA;QAAKuF,SAAS,EAAC,iDAAiD;QAAAC,QAAA,gBAC9DxF,OAAA,CAAC+F,aAAa;UACZC,MAAM,EAAErB,iBAAkB;UAC1BsB,UAAU,EAAErB,cAAe;UAC3BsB,WAAW,EAAE7F;QAAY;UAAAoF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC,eAEF5F,OAAA;UAAKuF,SAAS,EAAC,2BAA2B;UAAAC,QAAA,eACxCxF,OAAA;YACE8F,OAAO,EAAEA,CAAA,KAAMxF,cAAc,CAAC,EAAE,CAAE;YAClCiF,SAAS,EAAC,4FAA4F;YAAAC,QAAA,EACvG;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLnF,cAAc,iBACbT,OAAA;QAAKuF,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChDxF,OAAA;UAAIuF,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9D5F,OAAA;UAAKuF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBxF,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAOuF,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACR5F,OAAA;cACEkF,KAAK,EAAEjE,UAAU,CAACE,IAAK;cACvBgF,QAAQ,EAAEf,qBAAsB;cAChCgB,WAAW,EAAC,0BAA0B;cACtCb,SAAS,EAAC,oDAAoD;cAC9Dc,QAAQ,EAAEpF,UAAU,CAACO;YAAQ;cAAAiE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5F,OAAA;YAAKuF,SAAS,EAAC,wBAAwB;YAAAC,QAAA,gBACrCxF,OAAA;cAAAwF,QAAA,gBACExF,OAAA;gBAAOuF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR5F,OAAA;gBACEkF,KAAK,EAAEjE,UAAU,CAACG,KAAM;gBACxB+E,QAAQ,EAAEd,iBAAkB;gBAC5BE,SAAS,EAAC,sCAAsC;gBAChDc,QAAQ,EAAEpF,UAAU,CAACO,OAAQ;gBAAAgE,QAAA,gBAE7BxF,OAAA;kBAAQkF,KAAK,EAAC,SAAS;kBAAAM,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC5F,OAAA;kBAAQkF,KAAK,EAAC,MAAM;kBAAAM,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAClC5F,OAAA;kBAAQkF,KAAK,EAAC,QAAQ;kBAAAM,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAEN5F,OAAA;cAAAwF,QAAA,gBACExF,OAAA;gBAAOuF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR5F,OAAA;gBACEkF,KAAK,EAAEjE,UAAU,CAACI,KAAM;gBACxB8E,QAAQ,EAAEb,iBAAkB;gBAC5BC,SAAS,EAAC,sCAAsC;gBAChDc,QAAQ,EAAEpF,UAAU,CAACO,OAAQ;gBAAAgE,QAAA,gBAE7BxF,OAAA;kBAAQkF,KAAK,EAAC,SAAS;kBAAAM,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACxC5F,OAAA;kBAAQkF,KAAK,EAAC,aAAa;kBAAAM,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAChD5F,OAAA;kBAAQkF,KAAK,EAAC,QAAQ;kBAAAM,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN5F,OAAA;YACE8F,OAAO,EAAEhC,mBAAoB;YAC7BuC,QAAQ,EAAEpF,UAAU,CAACO,OAAO,IAAI,CAACP,UAAU,CAACE,IAAI,CAACU,IAAI,CAAC,CAAE;YACxD0D,SAAS,EAAC,4HAA4H;YAAAC,QAAA,EAErIvE,UAAU,CAACO,OAAO,GACjB,eAAe,gBAEfxB,OAAA,CAAAE,SAAA;cAAAsF,QAAA,gBACExF,OAAA,CAACH,OAAO;gBAACyG,IAAI,EAAE;cAAG;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACrB5F,OAAA;gBAAAwF,QAAA,EAAM;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eAC3B;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC,EAER3E,UAAU,CAACQ,KAAK,iBACfzB,OAAA;YAAKuF,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EAAEvE,UAAU,CAACQ;UAAK;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAC9D,EAEA3E,UAAU,CAACK,GAAG,iBACbtB,OAAA;YAAKuF,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBxF,OAAA;cACEuG,GAAG,EAAEtF,UAAU,CAACK,GAAI;cACpBkF,QAAQ;cACRjB,SAAS,EAAC;YAAmB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC,eACF5F,OAAA;cAAKuF,SAAS,EAAC,uBAAuB;cAAAC,QAAA,eACpCxF,OAAA;gBACEyG,IAAI,EAAExF,UAAU,CAACK,GAAI;gBACrBoF,QAAQ,EAAC,qBAAqB;gBAC9BnB,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EAClD;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLjF,eAAe,iBACdX,OAAA;MAAKuF,SAAS,EAAC,4EAA4E;MAAAC,QAAA,eACzFxF,OAAA;QAAKuF,SAAS,EAAC,yCAAyC;QAAAC,QAAA,gBACtDxF,OAAA;UAAKuF,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDxF,OAAA;YAAIuF,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtD5F,OAAA;YACE8F,OAAO,EAAEA,CAAA,KAAMlF,kBAAkB,CAAC,KAAK,CAAE;YACzC2E,SAAS,EAAC,mCAAmC;YAAAC,QAAA,eAE7CxF,OAAA,CAACF,GAAG;cAACwG,IAAI,EAAE;YAAG;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAEN5F,OAAA;UAAKuF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBxF,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAOuF,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACR5F,OAAA;cACE2G,IAAI,EAAC,MAAM;cACX1B,IAAI,EAAC,OAAO;cACZC,KAAK,EAAEvD,OAAO,CAACC,KAAM;cACrBuE,QAAQ,EAAEpB,gBAAiB;cAC3BQ,SAAS,EAAE,kGACT1E,SAAS,IAAI,CAACc,OAAO,CAACC,KAAK,GAAG,gBAAgB,GAAG,EAAE,EAClD;cACHwE,WAAW,EAAC,kBAAkB;cAC9BQ,QAAQ;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5F,OAAA;YAAKuF,SAAS,EAAC,wBAAwB;YAAAC,QAAA,gBACrCxF,OAAA;cAAAwF,QAAA,gBACExF,OAAA;gBAAOuF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR5F,OAAA;gBACE2G,IAAI,EAAC,MAAM;gBACX1B,IAAI,EAAC,aAAa;gBAClBC,KAAK,EAAEvD,OAAO,CAACG,WAAY;gBAC3BqE,QAAQ,EAAEpB,gBAAiB;gBAC3BQ,SAAS,EAAE,kGACT1E,SAAS,IAAI,CAACc,OAAO,CAACG,WAAW,GAAG,gBAAgB,GAAG,EAAE,EACxD;gBACHsE,WAAW,EAAC,aAAa;gBACzBQ,QAAQ;cAAA;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAEN5F,OAAA;cAAAwF,QAAA,gBACExF,OAAA;gBAAOuF,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,EAAC;cAEhE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACR5F,OAAA;gBACEiF,IAAI,EAAC,cAAc;gBACnBC,KAAK,EAAEvD,OAAO,CAACO,YAAa;gBAC5BiE,QAAQ,EAAEpB,gBAAiB;gBAC3BQ,SAAS,EAAC,sCAAsC;gBAAAC,QAAA,gBAEhDxF,OAAA;kBAAQkF,KAAK,EAAC,OAAO;kBAAAM,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpC5F,OAAA;kBAAQkF,KAAK,EAAC,cAAc;kBAAAM,QAAA,EAAC;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAClD5F,OAAA;kBAAQkF,KAAK,EAAC,UAAU;kBAAAM,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN5F,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAOuF,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACR5F,OAAA;cACE2G,IAAI,EAAC,MAAM;cACX1B,IAAI,EAAC,UAAU;cACfC,KAAK,EAAEvD,OAAO,CAACM,QAAS;cACxBkE,QAAQ,EAAEpB,gBAAiB;cAC3BQ,SAAS,EAAC,sCAAsC;cAChDa,WAAW,EAAC;YAAuB;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5F,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAOuF,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACR5F,OAAA;cACEiF,IAAI,EAAC,SAAS;cACdC,KAAK,EAAEvD,OAAO,CAACI,OAAQ;cACvBoE,QAAQ,EAAEpB,gBAAiB;cAC3BQ,SAAS,EAAE,gHACT1E,SAAS,IAAI,CAACc,OAAO,CAACI,OAAO,GAAG,gBAAgB,GAAG,EAAE,EACpD;cACHqE,WAAW,EAAC,iCAAiC;cAC7CQ,QAAQ;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN5F,OAAA;YAAKuF,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1CxF,OAAA;cACE2G,IAAI,EAAC,QAAQ;cACbb,OAAO,EAAEA,CAAA,KAAMlF,kBAAkB,CAAC,KAAK,CAAE;cACzC2E,SAAS,EAAC,kEAAkE;cAAAC,QAAA,EAC7E;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT5F,OAAA;cACE2G,IAAI,EAAC,QAAQ;cACbb,OAAO,EAAEjB,gBAAiB;cAC1BwB,QAAQ,EAAE,CAAC1E,OAAO,CAACC,KAAK,IAAI,CAACD,OAAO,CAACG,WAAW,IAAI,CAACH,OAAO,CAACI,OAAO,IAAImB,qBAAqB,CAACZ,SAAU;cACxGiD,SAAS,EAAC,8JAA8J;cAAAC,QAAA,EAEvKtC,qBAAqB,CAACZ,SAAS,GAAG,aAAa,gBAC9CtC,OAAA,CAAAE,SAAA;gBAAAsF,QAAA,gBACExF,OAAA,CAACJ,MAAM;kBAAC0G,IAAI,EAAE;gBAAG;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACpB5F,OAAA;kBAAAwF,QAAA,EAAM;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,eACxB;YACH;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACxF,EAAA,CApfID,UAAoB;EAAA,QA8CJV,cAAc,EAGyBD,QAAQ,EAoBrCD,WAAW,EAwBbA,WAAW;AAAA;AAAAsH,EAAA,GA7FnC1G,UAAoB;AAsf1B,MAAM2G,aAAa,GAAGA,CAACC,CAAU,EAAEC,CAAU,KAAKD,CAAC,CAAChE,UAAU,KAAKiE,CAAC,CAACjE,UAAU;AAE/E,eAAe5C,UAAU;AAAC,IAAA0G,EAAA;AAAAI,YAAA,CAAAJ,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}